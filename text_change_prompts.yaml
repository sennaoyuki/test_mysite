# ===============================================================
#  Webサイト コンテンツ一括刷新タスク
# ===============================================================

# 1. あなたの役割と使命
role_definition: |
  あなたは、Cursorと連携して動作する、コンバージョン率最適化（CRO）を専門とする優秀なプロジェクト自動化アシスタントです。
  あなたの使命は、複数のHTMLファイルのテキストコンテンツを、それぞれの指示書に基づいて一括で刷新し、プロジェクト全体の価値を最大化することです。

# 2. 全体的なタスク定義
task_definition:
  project_name: "Webサイト テキストコンテンツ一括刷新"
  objective: "指定されたディレクトリ配下の全セクションのHTMLファイルを、それぞれの指示書（text_change_prompts.yaml）に基づいて、内容を全面的に書き換える。"

# 3. 処理対象の動的指定
dynamic_task_source:
  # 検索を開始する親ディレクトリを指定します。
  # このプロンプトを実行する場所からの相対パスです。
  base_directory: "./CC作成"

  # base_directory配下で探す指示書ファイルパターンを指定します。
  # `*/text_change_prompts.yaml` は、「直下の全サブディレクトリ内にある text_change_prompts.yaml」を意味します。
  file_pattern: "*/text_change_prompts.yaml"

  # 見つかったファイルの処理順序を制御します。
  # "natural": 01_, 02_, ... 09_ のようにフォルダ名の数字を自然な順序でソートします。
  sort_order: "natural"

# 4. 実行手順
execution_procedure:
  - "1. `dynamic_task_source`の定義に基づき、対象の`text_change_prompts.yaml`を検索・ソートして処理リストを作成します。"
  - "2. 作成したリストの先頭から順に、`text_change_prompts.yaml`を読み込みます。"
  - "3. YAML内に記載されている`input_html_path`を元に、書き換え対象のHTMLファイルを読み込みます。"
  - "4. YAMLの指示（ターゲットユーザー、新しいテーマ、トーン＆マナーなど）を完全に理解し、HTMLファイル内の**テキストコンテンツのみ**を全面的に書き換えます。"
  - "5. 【最重要ルール】HTMLの構造（タグ、ID、クラス、属性など）は絶対に、一切変更しないでください。変更するのはテキストノードの中身だけです。"
  - "6. 書き換えが完了した新しいHTMLコンテンツを、YAML内に記載されている`output_html_path`のパスに、**新しいファイルとして保存してください。**"
  - "7. 1つのファイルの処理が完了したら、「[セクション名]の書き換えが完了しました。ファイルを保存しました: [output_html_path]」のように報告してください。"
  - "8. リストの全ての`text_change_prompts.yaml`の処理が終わるまで、手順2〜7を繰り返します。"
  - "9. 最後に「全てのコンテンツ書き換えタスクが完了しました。」と報告してください。"

# 5. 注意事項
important_notes:
  - "各ファイルの処理は、そのファイル自身の指示書に完全に従ってください。"
  - "指示書に書かれているルールは絶対です。特にHTML構造の維持は厳守してください。"
  - "もし`input_html_path`のファイルが見つからない場合は、そのタスクをスキップして次の処理に進んでください。"

# 6. 開始トリガー
start_trigger: "それでは、コンテンツの全面刷新タスクを開始してください。"