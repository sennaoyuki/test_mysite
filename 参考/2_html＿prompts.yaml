# ===============================================================
#  Webサイトコンポーネント連続生成タスク (動的ソース指定版)
# ===============================================================

# 1. AIアシスタントの役割定義
role_definition: |
  あなたは、Cursorと連携して動作する優秀なプロジェクト自動化アシスタントです。
  これから、複数のWebサイトコンポーネントを連続で生成するタスクを実行します。

# 2. 全体的なタスク定義
task_definition:
  project_name: "Webサイト一括生成"
  objective: "指定されたディレクトリ配下の全コンポーネントを、それぞれの指示書(prompt.yaml)に基づいて一括でコーディングする。"

# 3. 処理対象の動的指定
# 以下のルールに基づき、処理対象の prompt.yaml を自動で検索します。
dynamic_task_source:
  # 検索を開始する親ディレクトリを指定します。
  # このパスをプロジェクトごとに変更してください。
  base_directory: "/Users/hattaryoga/Desktop/サイト作成/サイトスクショ/CC作成"

  # base_directory配下で探すファイルパターンを指定します。
  # `*/prompt.yaml` は、「直下の全サブディレクトリ内にある prompt.yaml」を意味します。
  file_pattern: "*/prompt.yaml"

  # 見つかったファイルの処理順序を制御します。
  # "natural": 01_, 02_, ... 09_ のようにフォルダ名の数字を自然な順序でソートします。
  sort_order: "natural"

# 4. 実行手順
execution_procedure:
  - "1. `dynamic_task_source`の定義に基づき、対象の`prompt.yaml`を検索・ソートして処理リストを作成します。"
  - "2. 作成したリストの先頭から順に、`prompt.yaml`を読み込みます。"
  - "3. YAML内に記載されている`file_path`を元に、対応するスクリーンショット画像をコンテキストに含めます。"
  - "4. YAMLの指示と画像を元に、レスポンシブなHTML/CSSコードを生成します。コードは単一のコードブロックで出力してください。"
  - "5. 出力したコードの直後に、明確な区切り線 (例: `---`) を挿入してください。"
  - "6. リストの全ての`prompt.yaml`の処理が終わるまで、手順2〜5を繰り返します。"
  - "7. 最後に「全てのコンポーネントの生成が完了しました。」と報告してください。"

# 5. 注意事項
important_notes:
  - "各コンポーネントの処理は、独立して行ってください。"
  - "生成されるコードは、後で手動または別スクリプトで統合することを前提とします。"
  - "`file_pattern`に一致しないファイルは処理されません。"

# 6. 開始トリガー
start_trigger: "それでは、タスクを開始してください。"